<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PRIMARY SEO FOR PAKISTAN -->
    <title>NoraSol | Indigenous 3.2kW Hybrid Solar Inverter | 0309 7512900</title>
    <meta name="description" content="NoraSol Nora-3: Pakistan's premier indigenous 3.2kW hybrid solar inverter. Built for local heat, net-metering ready, and 1.5 Ton AC compatible.">
    <meta name="keywords" content="solar inverter price pakistan, nora-3 inverter, indigenous solar pakistan, best solar inverter lahore karachi, 3kw hybrid inverter">

    <!-- STYLES & LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Swiper.js for Professional Slideshow -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <!-- AOS for Scroll Animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(12px); }
        .hero-gradient { background: linear-gradient(135deg, #064e3b 0%, #022c22 100%); }
        
        /* Custom Swiper Styling */
        .swiper { width: 100%; padding-top: 50px; padding-bottom: 50px; }
        .swiper-slide {
            background-position: center;
            background-size: cover;
            width: 300px;
            height: 450px;
            filter: blur(1px);
            transition: 0.5s;
        }
        .swiper-slide-active { filter: blur(0px); transform: scale(1.1); }
        .product-card {
            background: #fff;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            height: 100%;
            display: flex;
            flex-direction: column;
            border: 1px solid #f1f5f9;
        }
        .animate-float { animation: float 3s ease-in-out infinite; }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-15px); } 100% { transform: translateY(0px); } }

        /* AI Features Styling */
        .ai-chat-window {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 350px;
            max-height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }
        .ai-chat-header {
            background: #059669;
            color: white;
            padding: 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .ai-chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f8fafc;
            min-height: 300px;
        }
        .ai-message {
            margin-bottom: 10px;
            padding: 10px 15px;
            border-radius: 15px;
            max-width: 85%;
            font-size: 14px;
            line-height: 1.4;
        }
        .ai-message.user {
            background: #059669;
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }
        .ai-message.bot {
            background: white;
            color: #334155;
            border: 1px solid #e2e8f0;
        }
        .ai-chat-input {
            padding: 15px;
            display: flex;
            gap: 10px;
            border-top: 1px solid #e2e8f0;
        }
        .ai-chat-input input {
            flex: 1;
            border: 1px solid #cbd5e1;
            border-radius: 10px;
            padding: 8px 12px;
            outline: none;
        }
        .ai-chat-input button {
            background: #059669;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 10px;
            cursor: pointer;
        }
        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #059669;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-white text-slate-900">

    <!-- Top Info Bar -->
    <div class="bg-emerald-950 text-white py-2 text-center text-xs font-bold tracking-widest px-4">
        <i class="fas fa-microchip mr-2 text-emerald-400"></i> PAKISTAN'S FIRST INDIGENOUSLY DEVELOPED ENERGY ECOSYSTEM
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 glass-nav border-b border-slate-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center">
                    <span class="text-2xl font-extrabold tracking-tighter text-emerald-700">NORA<span class="text-slate-800">SOL</span></span>
                    <span class="ml-2 bg-emerald-100 text-emerald-700 text-[10px] font-black px-2 py-0.5 rounded uppercase">Indigenous</span>
                </div>
                <div class="hidden md:flex space-x-10 font-bold text-slate-600 text-sm uppercase tracking-wider">
                    <a href="#showcase" class="hover:text-emerald-600 transition">Products</a>
                    <a href="#load" class="hover:text-emerald-600 transition">Capability</a>
                    <a href="#specs" class="hover:text-emerald-600 transition">Tech Specs</a>
                    <a href="#support" class="hover:text-emerald-600 transition">Service</a>
                </div>
                <div class="flex items-center">
                    <a href="tel:03097512900" class="hidden lg:block mr-6 font-bold text-slate-800">
                        <i class="fas fa-phone-alt mr-2 text-emerald-600"></i> 0309 7512900
                    </a>
                    <a href="https://wa.me/923097512900" class="bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-emerald-700 transition flex items-center shadow-xl shadow-emerald-200">
                        <i class="fab fa-whatsapp mr-2 text-xl"></i> <span class="hidden sm:inline">Ask Price</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero-gradient text-white py-24 px-4 overflow-hidden relative">
        <div class="absolute top-0 right-0 opacity-10 pointer-events-none">
            <i class="fas fa-solar-panel text-[400px]"></i>
        </div>
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center relative z-10">
            <div class="md:w-3/5 mb-12 md:mb-0" data-aos="fade-right">
                <h1 class="text-5xl md:text-7xl font-black leading-tight mb-6">
                    Real Power. <br><span class="text-emerald-400">Local Mastery.</span>
                </h1>
                <p class="text-xl text-emerald-50 text-opacity-80 mb-10 max-w-2xl leading-relaxed">
                    Designed in Pakistan, for Pakistan. NoraSol Nora-3 offers 3.2kW of pure sine wave hybrid power with integrated LiFePO4 storage. Beat load-shedding with 96% efficiency.
                </p>
                <div class="flex flex-wrap gap-5">
                    <a href="#showcase" class="bg-white text-emerald-950 px-10 py-4 rounded-2xl font-extrabold hover:bg-emerald-50 transition shadow-2xl">Explore Models</a>
                    <button onclick="toggleOptimizer()" class="bg-emerald-500 text-white px-10 py-4 rounded-2xl font-extrabold hover:bg-emerald-600 transition shadow-2xl">Smart Load Optimizer ✨</button>
                </div>
            </div>
            <div class="md:w-2/5 flex justify-center" data-aos="zoom-in">
                <div class="animate-float relative">
                    <div class="bg-white/10 p-4 rounded-[40px] backdrop-blur-xl border border-white/20 shadow-2xl">
                        <div class="bg-white rounded-[32px] p-8 text-center text-slate-900 w-72 md:w-80">
                            <i class="fas fa-bolt text-5xl text-emerald-600 mb-4"></i>
                            <h3 class="text-2xl font-black">Nora-3</h3>
                            <p class="text-sm font-bold text-emerald-600 uppercase tracking-widest mb-4">Hybrid Power System</p>
                            <div class="space-y-2 text-left text-sm font-medium">
                                <p><i class="fas fa-check text-emerald-500 mr-2"></i> 3.2kW Output</p>
                                <p><i class="fas fa-check text-emerald-500 mr-2"></i> 4.5kW PV Input</p>
                                <p><i class="fas fa-check text-emerald-500 mr-2"></i> 3.0kWh Battery</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Smart Load Optimizer Modal ✨ -->
    <div id="optimizerModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center bg-black/60 backdrop-blur-sm p-4">
        <div class="bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden animate-fade-in-up">
            <div class="bg-emerald-600 p-6 text-white flex justify-between items-center">
                <h3 class="text-xl font-bold">Smart Load Optimizer ✨</h3>
                <button onclick="toggleOptimizer()" class="text-white hover:text-emerald-200 transition"><i class="fas fa-times text-xl"></i></button>
            </div>
            <div class="p-8">
                <p class="text-slate-600 mb-6">Tell us what you want to run on the Nora-3, and our AI will calculate your battery backup time!</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Inverter ACs (1.5 Ton)</label>
                        <input type="number" id="load-ac" placeholder="0" class="w-full border rounded-lg p-2 outline-emerald-500">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Ceiling Fans</label>
                        <input type="number" id="load-fans" placeholder="0" class="w-full border rounded-lg p-2 outline-emerald-500">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Refrigerators</label>
                        <input type="number" id="load-fridge" placeholder="0" class="w-full border rounded-lg p-2 outline-emerald-500">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">LED Lights</label>
                        <input type="number" id="load-lights" placeholder="0" class="w-full border rounded-lg p-2 outline-emerald-500">
                    </div>
                </div>
                <button id="optimizeBtn" onclick="runOptimization()" class="w-full bg-emerald-600 text-white font-bold py-3 rounded-xl hover:bg-emerald-700 transition flex items-center justify-center gap-3">
                    Calculate My Backup ✨
                    <div id="optLoader" class="loader"></div>
                </button>
                <div id="optimizerResult" class="mt-6 p-4 bg-slate-50 border border-slate-200 rounded-2xl hidden max-h-60 overflow-y-auto">
                    <!-- Result text will appear here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Animated Product Showcase -->
    <section id="showcase" class="py-24 bg-slate-50 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-12" data-aos="fade-up">
                <h2 class="text-4xl font-black text-slate-900 mb-4">Our Product Ecosystem</h2>
                <p class="text-slate-500 max-w-2xl mx-auto font-medium">Explore our range of indigenously developed solutions, each optimized for specific energy needs in Pakistan.</p>
            </div>

            <!-- Swiper Slider -->
            <div class="swiper mySwiper" data-aos="fade-up" data-aos-delay="200">
                <div class="swiper-wrapper">
                    <!-- Slide 1 -->
                    <div class="swiper-slide">
                        <div class="product-card">
                            <div class="h-64 bg-slate-100 flex items-center justify-center">
                                <i class="fas fa-home text-7xl text-emerald-600"></i>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-2">Nora-3 Home</h3>
                                <p class="text-sm text-slate-500">Perfect for apartments and homes. Runs fans, lights, and 1.5 Ton Inverter AC.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 2 -->
                    <div class="swiper-slide">
                        <div class="product-card">
                            <div class="h-64 bg-slate-800 flex items-center justify-center">
                                <i class="fas fa-industry text-7xl text-emerald-400"></i>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-2">Nora Industrial</h3>
                                <p class="text-sm text-slate-500">Heavy duty three-phase solution for factories and workshops.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 3 -->
                    <div class="swiper-slide">
                        <div class="product-card">
                            <div class="h-64 bg-emerald-600 flex items-center justify-center">
                                <i class="fas fa-vault text-7xl text-white"></i>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-2">Energy Vault</h3>
                                <p class="text-sm text-slate-500">Scalable LiFePO4 storage. Keep your business running 24/7.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 4 -->
                    <div class="swiper-slide">
                        <div class="product-card">
                            <div class="h-64 bg-slate-200 flex items-center justify-center">
                                <i class="fas fa-microchip text-7xl text-blue-600"></i>
                            </div>
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-2">Smart Core V2</h3>
                                <p class="text-sm text-slate-500">Proprietary PCB & Firmware that powers the heart of NoraSol.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination mt-10"></div>
            </div>
        </div>
    </section>

    <!-- Load Capability: "What can it run?" -->
    <section id="load" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid md:grid-cols-2 gap-16 items-center">
                <div data-aos="fade-right">
                    <h2 class="text-4xl font-black mb-8 leading-tight">Can It Handle <br><span class="text-emerald-600">Your Whole House?</span></h2>
                    <p class="text-slate-600 text-lg mb-10 leading-relaxed">Unlike imported units that trip under motor-start loads, Nora-3 is tuned for the heavy initial currents of Pakistani appliances.</p>
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div class="p-6 bg-slate-50 rounded-2xl border-b-4 border-emerald-500">
                            <i class="fas fa-snowflake text-2xl text-emerald-600 mb-3"></i>
                            <p class="font-bold text-slate-800">1.5 Ton Inverter AC</p>
                            <p class="text-xs text-slate-500">Smooth Start Technology</p>
                        </div>
                        <div class="p-6 bg-slate-50 rounded-2xl border-b-4 border-emerald-500">
                            <i class="fas fa-tint text-2xl text-emerald-600 mb-3"></i>
                            <p class="font-bold text-slate-800">0.5 HP Water Pump</p>
                            <p class="text-xs text-slate-500">High Surge Protection</p>
                        </div>
                        <div class="p-6 bg-slate-50 rounded-2xl border-b-4 border-emerald-500">
                            <i class="fas fa-fan text-2xl text-emerald-600 mb-3"></i>
                            <p class="font-bold text-slate-800">10 Fans & LEDs</p>
                            <p class="text-xs text-slate-500">Whole Home Backup</p>
                        </div>
                        <div class="p-6 bg-slate-50 rounded-2xl border-b-4 border-emerald-500">
                            <i class="fas fa-tv text-2xl text-emerald-600 mb-3"></i>
                            <p class="font-bold text-slate-800">Fridge & LED TVs</p>
                            <p class="text-xs text-slate-500">Pure Sine Protection</p>
                        </div>
                    </div>
                </div>
                <div class="relative px-10" data-aos="fade-left">
                    <div class="bg-emerald-900 rounded-[40px] p-12 text-white relative shadow-3xl text-center">
                        <h3 class="text-3xl font-bold mb-6 italic">AI Power Expert ✨</h3>
                        <p class="text-emerald-100 mb-8 leading-relaxed">Let our AI calculate exactly how much backup you will get with your specific load.</p>
                        <button onclick="toggleOptimizer()" class="bg-white text-emerald-900 px-8 py-3 rounded-xl font-bold hover:bg-emerald-50 transition">Open Smart Optimizer</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Specs Table -->
    <section id="specs" class="py-24 bg-slate-900 text-white">
        <div class="max-w-5xl mx-auto px-4">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-4xl font-black mb-4">Nora-3 Engineering Data</h2>
                <p class="text-slate-400">Total transparency for engineers and technical buyers.</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-10" data-aos="fade-up" data-aos-delay="200">
                <!-- Inverter -->
                <div class="border border-white/10 rounded-3xl overflow-hidden bg-white/5">
                    <div class="bg-emerald-600 px-8 py-5 font-black text-sm uppercase tracking-widest">Inverter Unit</div>
                    <div class="p-8 space-y-4">
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Rated Power</span><span class="font-bold">3.2 kW</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>PV Input Max</span><span class="font-bold">4500 W</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Peak Efficiency</span><span class="font-bold text-emerald-400">96%</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Ingress Protection</span><span class="font-bold">IP54</span></div>
                        <div class="flex justify-between"><span>MPPT Voltage</span><span class="font-bold">350 Vdc</span></div>
                    </div>
                </div>
                <!-- Battery -->
                <div class="border border-white/10 rounded-3xl overflow-hidden bg-white/5">
                    <div class="bg-slate-700 px-8 py-5 font-black text-sm uppercase tracking-widest">Battery Pack</div>
                    <div class="p-8 space-y-4">
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Type</span><span class="font-bold">LiFePO4 (Grade A)</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Energy Capacity</span><span class="font-bold">3.06 kWh</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Usable Energy</span><span class="font-bold text-emerald-400">90% DoD</span></div>
                        <div class="flex justify-between border-b border-white/5 pb-2"><span>Nominal Voltage</span><span class="font-bold">204 V</span></div>
                        <div class="flex justify-between"><span>Design Life</span><span class="font-bold">5000+ Cycles</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Support & Warranty -->
    <section id="support" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-4xl font-black mb-16" data-aos="fade-up">A Promise You Can Trust</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-20">
                <div class="p-12 rounded-[40px] bg-emerald-50 border-2 border-emerald-100" data-aos="fade-right">
                    <span class="text-sm font-black text-emerald-600 uppercase tracking-widest mb-4 block">Inverter Unit</span>
                    <h3 class="text-6xl font-black text-emerald-950 mb-4">4 Years</h3>
                    <p class="text-emerald-700 font-bold text-lg mb-6">Full Replacement Warranty</p>
                    <p class="text-slate-500">Locally manufactured means no waiting for overseas parts. If it's a defect, we replace it.</p>
                </div>
                <div class="p-12 rounded-[40px] bg-blue-50 border-2 border-blue-100" data-aos="fade-left">
                    <span class="text-sm font-black text-blue-600 uppercase tracking-widest mb-4 block">Battery Pack</span>
                    <h3 class="text-6xl font-black text-blue-950 mb-4">6 Years</h3>
                    <p class="text-blue-700 font-bold text-lg mb-6">Cycle Performance Warranty</p>
                    <p class="text-slate-500">Tested to maintain high-capacity storage for up to 5,000 charge cycles.</p>
                </div>
            </div>

            <!-- Call to Action -->
            <div class="bg-slate-900 rounded-[40px] p-12 flex flex-col lg:flex-row items-center justify-between text-left" data-aos="zoom-in">
                <div class="mb-8 lg:mb-0">
                    <h4 class="text-3xl font-black text-white mb-2 underline decoration-emerald-500">Questions? Talk to an Engineer.</h4>
                    <p class="text-slate-400">Our engineering labs in Lahore & Karachi are available for consultation.</p>
                </div>
                <div class="flex flex-col sm:flex-row gap-5">
                    <a href="tel:03097512900" class="bg-white text-slate-900 px-10 py-5 rounded-2xl font-black text-2xl hover:bg-emerald-400 transition flex items-center shadow-2xl">
                        <i class="fas fa-phone-alt mr-4 text-emerald-600"></i> 0309 7512900
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-950 text-slate-500 py-16 px-4">
        <div class="max-w-7xl mx-auto grid md:grid-cols-3 gap-16 mb-16">
            <div>
                <span class="text-3xl font-black text-white">NORA<span class="text-emerald-500">SOL</span></span>
                <p class="mt-6 text-sm leading-relaxed">Redefining energy access through indigenous innovation. NoraSol is committed to making Pakistan a global player in green energy hardware.</p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-8 uppercase tracking-widest">Regional Hubs</h4>
                <ul class="space-y-4 text-sm font-medium">
                    <li><i class="fas fa-map-marker-alt mr-3 text-emerald-500"></i> Lahore - Hall Road R&D Lab</li>
                    <li><i class="fas fa-map-marker-alt mr-3 text-emerald-500"></i> Karachi - SITE Area Production</li>
                    <li><i class="fas fa-map-marker-alt mr-3 text-emerald-500"></i> Islamabad - Sector I-9 Support</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-8 uppercase tracking-widest">Direct Contact</h4>
                <p class="text-white text-xl font-black mb-2">0309 7512900</p>
                <p class="text-sm mb-6">Available 9:00 AM - 6:00 PM (PKT)</p>
                <a href="mailto:info@norasol.pk" class="text-emerald-400 font-bold border-b border-emerald-400/30">info@norasol.pk</a>
            </div>
        </div>
        <div class="max-w-7xl mx-auto pt-8 border-t border-white/5 text-center text-[10px] font-bold uppercase tracking-widest text-slate-600">
            © 2026 NoraSol Energy Systems. Designed and Manufactured in Pakistan.
        </div>
    </footer>

    <!-- AI Assistant Floating UI ✨ -->
    <div id="aiChat" class="ai-chat-window">
        <div class="ai-chat-header">
            <span>NoraSol AI Consultant ✨</span>
            <button onclick="toggleAIChat()"><i class="fas fa-times"></i></button>
        </div>
        <div id="chatMessages" class="ai-chat-messages">
            <div class="ai-message bot">Asalam-o-Alaikum! I am your NoraSol AI Assistant. How can I help you today? You can ask about Nora-3 specs, warranty, or net-metering in Pakistan.</div>
        </div>
        <div class="ai-chat-input">
            <input type="text" id="userInput" placeholder="Ask something..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
            <div id="chatLoader" class="loader ml-2"></div>
        </div>
    </div>

    <!-- Floating Chat Toggle ✨ -->
    <button onclick="toggleAIChat()" class="fixed bottom-32 right-8 bg-white border border-emerald-100 text-emerald-600 w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-2xl hover:scale-110 transition-all z-50">
        <i class="fas fa-robot"></i>
    </button>

    <!-- Floating WhatsApp -->
    <a href="https://wa.me/923097512900" title="Order on WhatsApp" class="fixed bottom-8 right-8 bg-[#25D366] text-white w-20 h-20 rounded-full flex items-center justify-center text-4xl shadow-3xl hover:scale-110 transition-all z-50">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({ duration: 1000, once: true });

        // Initialize Swiper
        var swiper = new Swiper(".mySwiper", {
            effect: "coverflow",
            grabCursor: true,
            centeredSlides: true,
            slidesPerView: "auto",
            coverflowEffect: {
                rotate: 15,
                stretch: 0,
                depth: 100,
                modifier: 1,
                slideShadows: false,
            },
            autoplay: {
                delay: 2500,
                disableOnInteraction: false,
            },
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
        });

        // Gemini API Configuration
        const apiKey = "";
        const apiModel = "gemini-2.5-flash-preview-09-2025";
        const systemPrompt = `You are the official NoraSol AI Consultant for the Pakistani solar market. 
        Your knowledge is based on the Nora-3 system:
        - 3.2kW Hybrid Inverter, 4.5kW PV Input, 96% Efficiency, IP54.
        - Battery: 3.06kWh LiFePO4 (2.7kWh usable energy).
        - Warranty: 4 years on inverter, 6 years/5000 cycles on battery.
        - Indigenous product, locally repairable in Lahore, Karachi, Islamabad.
        - Net-metering ready for LESCO, K-Electric, IESCO.
        Your tone is professional, technical, yet helpful. Use Pakistani context (load-shedding, WAPDA bills, DISCOs). 
        Always mention the contact number 0309 7512900 for final pricing.
        Keep responses concise and helpful. Use sparkle emoji ✨ occasionally.`;

        // UI Interactions
        function toggleOptimizer() {
            const modal = document.getElementById('optimizerModal');
            modal.classList.toggle('hidden');
        }

        function toggleAIChat() {
            const chat = document.getElementById('aiChat');
            chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
        }

        async function callGemini(prompt, isOptimizer = false) {
            const endpoint = `https://generativelanguage.googleapis.com/v1beta/models/${apiModel}:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: systemPrompt }] }
            };

            let delay = 1000;
            for (let i = 0; i < 5; i++) {
                try {
                    const response = await fetch(endpoint, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    if (!response.ok) throw new Error('API request failed');
                    const data = await response.json();
                    return data.candidates?.[0]?.content?.parts?.[0]?.text || "I'm having trouble thinking right now. Please try again.";
                } catch (error) {
                    if (i === 4) return "Failed to connect to AI server. Please check your internet or try later.";
                    await new Promise(res => setTimeout(res, delay));
                    delay *= 2;
                }
            }
        }

        // Smart Load Optimizer Logic ✨
        async function runOptimization() {
            const ac = document.getElementById('load-ac').value || 0;
            const fans = document.getElementById('load-fans').value || 0;
            const fridge = document.getElementById('load-fridge').value || 0;
            const lights = document.getElementById('load-lights').value || 0;

            if (!ac && !fans && !fridge && !lights) {
                alert("Please enter at least one appliance.");
                return;
            }

            const loader = document.getElementById('optLoader');
            const resultDiv = document.getElementById('optimizerResult');
            loader.style.display = 'block';
            resultDiv.classList.add('hidden');

            const prompt = `Perform a load calculation for Nora-3 system (2.7kWh usable battery). 
            User load: ${ac} Inverter ACs, ${fans} Fans, ${fridge} Refrigerators, ${lights} LED Lights.
            Calculate estimated battery backup time in hours assuming no solar input (night time). 
            Give a 2-3 sentence power management tip.`;

            const result = await callGemini(prompt, true);
            loader.style.display = 'none';
            resultDiv.innerHTML = `<p class="text-slate-800 font-medium">${result}</p>`;
            resultDiv.classList.remove('hidden');
        }

        // Chat Logic ✨
        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }

        async function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            if (!text) return;

            appendMessage(text, 'user');
            input.value = '';

            const loader = document.getElementById('chatLoader');
            loader.style.display = 'block';

            const response = await callGemini(text);
            loader.style.display = 'none';
            appendMessage(response, 'bot');
        }

        function appendMessage(text, side) {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = `ai-message ${side}`;
            div.innerText = text;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }
    </script>
</body>
</html>